<mat-card>
    <ng-container *ngIf="serviceStatus === ServiceStatus.Loading">
        <mat-progress-bar mode="query"></mat-progress-bar>
        <mat-card-title>
            <mat-icon class="title-icon">home</mat-icon>Billing Address
        </mat-card-title>
        <mat-divider></mat-divider>
        <mat-card-content>
            <mat-list>
                <mat-list-item>
                    <ngx-skeleton-loader [theme]="{height: '1rem', width: '16rem'}"></ngx-skeleton-loader>
                </mat-list-item>
                <mat-list-item>
                    <ngx-skeleton-loader [theme]="{height: '1rem', width: '16rem'}"></ngx-skeleton-loader>
                </mat-list-item>
                <mat-list-item>
                    <ngx-skeleton-loader [theme]="{height: '1rem', width: '16rem'}"></ngx-skeleton-loader>
                </mat-list-item>
                <mat-list-item>
                    <ngx-skeleton-loader [theme]="{height: '1rem', width: '16rem'}"></ngx-skeleton-loader>
                </mat-list-item>
                <mat-list-item>
                    <ngx-skeleton-loader [theme]="{height: '1rem', width: '16rem'}"></ngx-skeleton-loader>
                </mat-list-item>
                <mat-list-item>
                    <ngx-skeleton-loader [theme]="{height: '1rem', width: '16rem'}"></ngx-skeleton-loader>
                </mat-list-item>
                <mat-list-item>
                    <ngx-skeleton-loader [theme]="{height: '1rem', width: '16rem'}"></ngx-skeleton-loader>
                </mat-list-item>
                <mat-list-item>
                    <ngx-skeleton-loader [theme]="{height: '1rem', width: '16rem'}"></ngx-skeleton-loader>
                </mat-list-item>
            </mat-list>
        </mat-card-content>
    </ng-container>

    <ng-container *ngIf="serviceStatus === ServiceStatus.Success">
        <mat-card-title>
            <mat-icon class="title-icon">home</mat-icon>Billing Address
        </mat-card-title>
        <mat-divider></mat-divider>
        <mat-card-content>
            <form class="form">
                <mat-form-field class="full-width">
                    <mat-label>Name</mat-label>
                    <input matInput [disabled]="!editMode" [value]="getName()">
                </mat-form-field>
                <app-country-input [initialCountryCode]="getCountyCode()" [disableInput]="!editMode"></app-country-input>
                <mat-form-field class="full-width">
                    <mat-label>Address line 1</mat-label>
                    <input matInput [disabled]="!editMode" [value]="getLine1()">
                </mat-form-field>
                <mat-form-field class="full-width">
                    <mat-label>Address line 2</mat-label>
                    <input matInput [disabled]="!editMode" [value]="getLine2()"
                        placeholder="Number of the flat/apartment unit etc. (optional)">
                </mat-form-field>
                <table class="full-width" cellspacing="0">
                    <tr>
                        <td class="postal-width">
                            <mat-form-field class="full-width">
                                <mat-label>Postal Code</mat-label>
                                <input matInput [disabled]="!editMode" [value]="getPostalCode()">
                            </mat-form-field>
                        </td>
                        <td class="city-width">
                            <mat-form-field class="full-width">
                                <mat-label>City</mat-label>
                                <input matInput [disabled]="!editMode" [value]="getCity()">
                            </mat-form-field>
                        </td>
                    </tr>
                </table>
                <mat-form-field class="full-width">
                    <mat-label>Phone Number</mat-label>
                    <input matInput [disabled]="!editMode" [value]="getPhone()">
                </mat-form-field>
            </form>
        </mat-card-content>
        <mat-card-actions>
            @if( editMode ) {
            <button (click)="update()" mat-stroked-button color="primary"><mat-icon>sync_alt</mat-icon>Update</button>
            } @else {
            <button (click)="edit()" mat-stroked-button color="primary"><mat-icon>edit</mat-icon>Edit</button>
            }
        </mat-card-actions>
    </ng-container>
    <ng-container *ngIf="serviceStatus === ServiceStatus.Error">
        <app-loading-failed></app-loading-failed>
    </ng-container>
</mat-card>